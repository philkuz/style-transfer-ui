<!doctype html>

<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>WebcamJS Test Page</title>
    <style type="text/css">
        body { font-family: Helvetica, sans-serif; }
        h2, h3 { margin-top:0; }
        form { margin-top: 15px; }
        form > input { margin-right: 15px; }
        // #results { float:right; margin:20px; padding:20px; border:1px solid; background:#ccc; }
        #style img { max-width: 480px; max-height: 360px;}
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
</head>
<body>
    
    
    
    <div class="container">
    <h1>Style Transfer UI</h1>
        <div class="row">
            <div class="col">
                <div id="my_camera"></div>
                <form>
                    <input type=button value="Take Snapshot" onClick="take_snapshot()">
                </form>
            </div>
            <div class="col">
                Change the style:
                <select id="styleDropdown">
                    <option>rain_princess</option>
                    <option>scream</option>
                    <option>udnie</option>
                    <option>wave</option>
                    <option>wreck</option>
                </select>
                <div id="style"></div>
            </div>
        </div>
        <div class="row">
            <div class="col" id="results">
            </div>
            <div class="col">
                <div id="style-transfer"></div>
            </div>
        </div>
    </div>
    <!-- First, include the Webcam.js JavaScript Library -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>    
    <script type="text/javascript" src="static/js/webcam.js"></script>
    <script type="text/javascript" src="static/js/logic.js"></script>
    <!-- Configure a few settings and attach camera -->
    <script language="JavaScript">
        Webcam.set({
            width: 480,
            height: 360,
            image_format: 'jpeg',
            jpeg_quality: 90
        });
        Webcam.attach( '#my_camera' );
    </script>
    
    <!-- A button for taking snaps -->
    
    <!-- Code to handle taking the snapshot and displaying it locally -->
    <script language="JavaScript">
        function take_snapshot() {
            // take snapshot and get image data
            Webcam.snap( function(data_uri) {
                // display results in page
                localStorage.setItem('image', data_uri)
                document.getElementById('results').innerHTML = 
                    '<img src="'+data_uri+'"/>' +
                    '<input type=button value="Send Image" onClick="sendImage()">';//onClick="send_image('+data_uri+')">';// onClick="send_image('+data_uri+')">';

            } );
        }
    </script>
    
</body>
</html>
